<div class="tp-page" *ngIf="townConfig">
  <!-- HERO SECTION -->
  <section class="tp-hero">
    <div class="tp-hero-left">
      <h1 class="tp-hero-title">
        {{ heroTitle }}
      </h1>

      <p class="tp-hero-subtitle">
        {{ heroSubtitle }}
      </p>

      <ul class="tp-hero-list">
        <li *ngFor="let bullet of townConfig.heroBullets">
          <mat-icon [attr.aria-label]="'Bullet check mark'" role="img"
            >check_circle</mat-icon
          >
          <span>{{ bullet }}</span>
        </li>
      </ul>

      <div class="tp-hero-actions">
        <button
          mat-raised-button
          (click)="onCallClick()"
          aria-label="Call to book service"
        >
          <mat-icon [attr.aria-label]="'Phone icon'" role="img">call</mat-icon>
          Call to Book Service
        </button>
        <button
          mat-stroked-button
          (click)="onRequestQuote()"
          class="outlined-button"
          aria-label="Send a service request"
        >
          <mat-icon aria-label="Mail icon" role="img">mail</mat-icon>
          Send a Service Request
        </button>
      </div>

      <p class="tp-hero-note">
        24/7 emergency service available in {{ townLabel }} and nearby
        communities.
      </p>
    </div>

    <div class="tp-hero-right">
      <mat-card class="tp-hero-card">
        <mat-card-header>
          <div mat-card-avatar class="tp-hero-avatar" aria-hidden="true">
            <mat-icon [attr.aria-label]="'Technician avatar icon'" role="img"
              >engineering</mat-icon
            >
          </div>
          <mat-card-title
            >Local {{ townConfig.regionLabel }} Electrician</mat-card-title
          >
          <mat-card-subtitle>
            {{ townConfig.areasServed.slice(0, 4).join(" • ") }}
          </mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <p>
            From homes and remodels to ranch shops and small businesses, we
            design, repair, and upgrade electrical systems built for real
            {{ townConfig.regionLabel }} use.
          </p>
          <div class="tp-chip-row">
            <mat-chip-listbox aria-label="Service highlights">
              <mat-chip>Licensed & Insured</mat-chip>
              <mat-chip>Residential</mat-chip>
              <mat-chip>Commercial</mat-chip>
              <mat-chip>Ranch Properties</mat-chip>
            </mat-chip-listbox>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </section>

  <!-- RESIDENTIAL SERVICES -->
  <section class="tp-section">
    <mat-card class="tp-card">
      <mat-card-header>
        <div mat-card-avatar class="tp-card-avatar" aria-hidden="true">
          <mat-icon [attr.aria-label]="'Home services icon'" role="img"
            >home</mat-icon
          >
        </div>
        <mat-card-title>{{ residentialHeading }}</mat-card-title>
        <mat-card-subtitle>
          {{
            townConfig.residentialSubheading ||
              "Safe, clean, and code-compliant work for your home."
          }}
        </mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <p class="tp-section-intro" *ngIf="townConfig.residentialIntro">
          {{ townConfig.residentialIntro }}
        </p>
        <div class="tp-service-grid">
          <div
            class="tp-service-item"
            *ngFor="let service of townConfig.residentialServices"
          >
            <mat-icon
              class="tp-service-icon"
              [attr.aria-label]="service.label + ' icon'"
              role="img"
              >{{ service.icon }}</mat-icon
            >
            <span>{{ service.label }}</span>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </section>

  <!-- COMMERCIAL & RANCH SERVICES -->
  <section class="tp-section">
    <mat-card class="tp-card">
      <mat-card-header>
        <div mat-card-avatar class="tp-card-avatar" aria-hidden="true">
          <mat-icon [attr.aria-label]="'Business services icon'" role="img"
            >business</mat-icon
          >
        </div>
        <mat-card-title>{{ commercialHeading }}</mat-card-title>
        <mat-card-subtitle>
          {{
            townConfig.commercialSubheading ||
              "Built for shops, businesses, and Hill Country properties."
          }}
        </mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <p class="tp-section-intro" *ngIf="townConfig.commercialIntro">
          {{ townConfig.commercialIntro }}
        </p>
        <div class="tp-service-grid">
          <div
            class="tp-service-item"
            *ngFor="let service of townConfig.commercialServices"
          >
            <mat-icon
              class="tp-service-icon"
              [attr.aria-label]="service.label + ' icon'"
              role="img"
              >{{ service.icon }}</mat-icon
            >
            <span>{{ service.label }}</span>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </section>

  <!-- ENERGY & CONSULTATION -->
  <section class="tp-section">
    <mat-card class="tp-card">
      <mat-card-header>
        <div mat-card-avatar class="tp-card-avatar" aria-hidden="true">
          <mat-icon [attr.aria-label]="'Energy savings icon'" role="img"
            >energy_savings_leaf</mat-icon
          >
        </div>
        <mat-card-title>{{ energyHeading }}</mat-card-title>
        <mat-card-subtitle>
          {{ townConfig.energySubheading || "Plan it right the first time." }}
        </mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <p class="tp-section-intro" *ngIf="townConfig.energyIntro">
          {{ townConfig.energyIntro }}
        </p>
        <div class="tp-service-grid">
          <div
            class="tp-service-item"
            *ngFor="let service of townConfig.energyServices"
          >
            <mat-icon
              class="tp-service-icon"
              [attr.aria-label]="service.label + ' icon'"
              role="img"
              >{{ service.icon }}</mat-icon
            >
            <span>{{ service.label }}</span>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </section>

  <!-- AREAS SERVED CALLOUT -->
  <section class="tp-section tp-section--alt">
    <mat-card class="tp-card tp-card--alt">
      <mat-card-header>
        <div
          mat-card-avatar
          class="tp-card-avatar tp-card-avatar--accent"
          aria-hidden="true"
        >
          <mat-icon [attr.aria-label]="'Map icon'" role="img">map</mat-icon>
        </div>
        <mat-card-title>
          Serving {{ townLabel }} and the {{ townConfig.regionLabel }}
        </mat-card-title>
        <mat-card-subtitle>Local service you can rely on.</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <p class="tp-section-intro">
          Our base in {{ townLabel }} allows us to regularly serve homeowners,
          businesses, and ranch properties across the surrounding
          {{ townConfig.regionLabel }}.
        </p>
        <div class="tp-chip-row tp-chip-row--wrap">
          <mat-chip-listbox aria-label="Areas served">
            <mat-chip *ngFor="let area of townConfig.areasServed">
              {{ area }}
            </mat-chip>
          </mat-chip-listbox>
        </div>
        <button
          mat-stroked-button
          class="wcu-town-btn"
          type="button"
          [routerLink]="townConfig.residentialLink"
        >
          <mat-icon [attr.aria-label]="'Visit residential services'" role="img"
            >arrow_forward</mat-icon
          >
          View All {{ townConfig.regionLabel }} Residential ProVolt Electrical
          Services
        </button>
      </mat-card-content>
    </mat-card>
  </section>

  <!-- FINAL CTA -->
  <section class="tp-section tp-final-cta">
    <div class="tp-final-cta-inner">
      <div class="tp-final-text">
        <h2>Need an Electrician in {{ townLabel }}?</h2>
        <p>
          Whether it’s an emergency repair, a panel upgrade, or a full remodel,
          ProVolt Electrical Services is ready to help.
        </p>
      </div>
      <div class="tp-final-actions">
        <app-cta-button
          [label]="'Call'"
          (click)="onCallClick()"
        ></app-cta-button>
        <app-cta-button
          [label]="'Request a Quote'"
          (click)="onRequestQuote()"
        ></app-cta-button>
      </div>
    </div>
  </section>
</div>
