<section class="our-services">
  <!-- HERO -->
  <header>
    <h1 class="page-title">{{ hero.title }}</h1>
    <mat-card class="hero">
      <div class="hero__text">
        <p class="hero__subtitle">{{ hero.subtitle }}</p>

        <p class="hero__trust">
          <mat-icon aria-hidden="true" class="hero-icon">verified</mat-icon>
          <span>{{ hero.trustLine }}</span>
        </p>

        <div class="hero__cta">
          <button
            mat-flat-button
            class="hero__primary hero__primary--yellow"
            (click)="onCallNow()"
          >
            <mat-icon>call</mat-icon>
            {{ hero.actionButtonText }}
          </button>
        </div>
      </div>

      <div class="hero__chips">
        <div class="section-kicker">Who we help</div>
        <mat-chip-listbox aria-label="Clients we serve">
          <mat-chip *ngFor="let item of whoWeHelp">{{ item }}</mat-chip>
        </mat-chip-listbox>
      </div>
    </mat-card>
  </header>

  <!-- POPULAR JOBS -->
  <section class="section" *ngIf="popularCards?.length">
    <h2>{{ popularSectionTitle }}</h2>
    <p class="section__subtitle">{{ popularSectionSubtitle }}</p>

    <div class="cards-grid">
      <mat-card
        class="link-card"
        *ngFor="let job of popularCards; trackBy: trackByTitle"
      >
        <mat-card-header>
          <div mat-card-avatar class="link-card__icon">
            <mat-icon>{{ job.icon }}</mat-icon>
          </div>
          <mat-card-title>{{ job.title }}</mat-card-title>
        </mat-card-header>

        <mat-card-content>
          <p>{{ job.description }}</p>
        </mat-card-content>

        <mat-card-actions align="start" class="popular-service-card-actions">
          <button mat-button (click)="onCallNow()">Schedule</button>
          <!-- @Nathaniel make the individual pages for each service -->
          <!-- <a mat-stroked-button [routerLink]="job.path">Learn More</a> -->
        </mat-card-actions>
      </mat-card>
    </div>
  </section>

  <!-- SERVICES GRID -->
  <section class="section" *ngIf="services?.length">
    <h2>Service Capabilities</h2>

    <div class="our-services__grid">
      <mat-card
        class="service-card"
        *ngFor="let service of services; trackBy: trackByTitle"
      >
        <mat-card-header>
          <div mat-card-avatar class="service-card__icon">
            <mat-icon>{{ service.icon }}</mat-icon>
          </div>
          <div>
            <mat-card-title>{{ service.title }}</mat-card-title>
            <mat-card-subtitle
              *ngIf="showCategorySubtitle && service.category !== 'Both'"
            >
              {{ customCategoryLabel ?? service.category }}
            </mat-card-subtitle>
          </div>
        </mat-card-header>

        <mat-card-content>
          <p class="service-card__description">{{ service.description }}</p>
          <mat-divider></mat-divider>

          <ul class="service-card__list">
            <li *ngFor="let bullet of service.bullets">
              <mat-icon class="service-card__bullet-icon">bolt</mat-icon>
              <span>{{ bullet }}</span>
            </li>
          </ul>
        </mat-card-content>

        <mat-card-actions align="start" class="service-capabilities-actions">
          <button mat-stroked-button (click)="onCallNow()">
            Schedule Service
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
  </section>

  <!-- PROCESS -->
  <section class="section" *ngIf="processSteps?.length">
    <h2>How We Work</h2>

    <div class="process">
      <div
        class="process__item"
        *ngFor="let step of processSteps; trackBy: trackByTitle"
      >
        <div class="process__header">
          <mat-icon class="process__icon">{{ step.icon }}</mat-icon>
          <div class="process__title">{{ step.title }}</div>
        </div>
        <div>
          <div class="process__desc">{{ step.description }}</div>
        </div>
      </div>
    </div>
  </section>

  <!-- AREAS SERVED -->
  <app-areas-we-serve [leftAlign]="true"></app-areas-we-serve>

  <!-- FAQ -->
  <section class="section" *ngIf="faqs?.length">
    <h2>{{ serviceTitle }} FAQ</h2>

    <mat-accordion multi>
      <mat-expansion-panel *ngFor="let faq of faqs" class="faq-section">
        <mat-expansion-panel-header>
          <mat-panel-title>{{ faq.question }}</mat-panel-title>
        </mat-expansion-panel-header>
        <p class="faq-answer">{{ faq.answer }}</p>
      </mat-expansion-panel>
    </mat-accordion>
  </section>

  <footer class="our-services__footer">
    <p>
      {{ footerText }}
    </p>
  </footer>
</section>
